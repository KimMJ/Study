# 12장 Exporter 작성하기

## Consul 원격 측정

* 예시로 consul 원격측정 exporter를 작성한다.
* 대부분의 exporter는 Go로 작성되었다.

## 사용자 정의 수집기

* 직접 계측을 통해 클라이언트 라이브러리는 계측 이벤트를 가져오고 시간에 따른 메트릭 값을 추적한다.
* 직접 계측을 사용하기보단 다른 소스로부터 제공받기 원하는 경우에 사용자 정의 수집기(custom collector)를 사용해야 한다.
* 수집기는 반드시 prometheus.Collector 인터페이스를 GoLang으로 구현해야 한다.

### label

* label을 제공하기 위해서는 Desc에 레이블 이름을 지정하고 나서 MustNewConstMetric에 값을 지정해야함.

## 가이드라인

* 익스포터 작성은 모호하고 엔지니어링적 절충안이 필요한 편임.
* 메트릭 명명 관례를 따르려고 노력해야함.
* 레이블에 높은 변동이 있는 메트릭은 카디널리티 때문에 피해야 함.

